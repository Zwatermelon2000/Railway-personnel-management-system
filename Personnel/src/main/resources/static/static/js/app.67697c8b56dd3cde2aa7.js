webpackJsonp([9],{"14gb":function(e,t,r){"use strict";new(r("7+uW").default)},"69NM":function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"margin-bottom":"30px",display:"flex","justify-content":"center","align-items":"center"}},[r("el-input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{placeholder:e.text,"prefix-icon":"el-icon-search",size:"primary"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClick.apply(null,arguments)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),r("el-button",{attrs:{size:"primary",type:"primary"},on:{click:e.searchClick}},[e._v("查询")])],1)},staticRenderFns:[]};var a=r("VU/8")({name:"SearchBar",data:function(){return{text:"请输入工号或姓名",keywords:"",books:[],cardLoading:[]}},methods:{searchClick:function(){this.$emit("onSearch")}}},n,!1,function(e){r("oZNP")},"data-v-5aaeccfe",null);t.a=a.exports},"8e/l":function(e,t,r){e.exports=r.p+"static/img/login_background.7f6e0ab.jpg"},MkIe:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a=r("ZQ6q"),o=r.n(a),s=(r("14gb"),{name:"Login",data:function(){return{url:r("8e/l"),icon:"el-input__icon el-icon-view",passw:"password",LoginForm:{id:"",name:"",sex:"",mail:"",phone:"",idCard:"",card:"",address:"",attendance:"",birthday:"",job:"用户"},rules:{id:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:8,max:8,message:"长度为 8 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted:function(){this.$refs.getFocus.focus()},created:function(){},methods:{showPass:function(){"text"==this.passw?(this.passw="password",this.icon="el-input__icon el-icon-view"):(this.passw="text",this.icon="el-input__icon el-icon-moon")},onBlur:function(){this.passw="password",this.icon="el-input__icon el-icon-view"},login:function(){var e=this,t=new FormData;t.append("id",this.LoginForm.id),t.append("password",this.LoginForm.password),t.append("job",this.LoginForm.job);this.$axios.post("staff/login",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(r){if(alert(r.data.msg),200===r.data.code){o.a.set("id",t.get("id")),console.log("id1="+e.LoginForm.id);var n="管理员"===t.get("job")?"admin":"user";console.log("getUserRole="+n),sessionStorage.setItem("userRole",n),e.$router.push({path:"/container"})}}).catch(function(e){alert(e.data.msg)}),sessionStorage.setItem("userId2",this.LoginForm.id)},resetForm:function(e){this.$refs[e].resetFields(),this.$refs.getFocus.focus()}}}),i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("el-image",{staticClass:"image",attrs:{src:e.url,fit:"fill"}}),e._v(" "),r("div",{staticClass:"front"},[r("br"),r("br"),e._v(" "),r("h2",[e._v("欢迎登录铁路公司管理系统")]),e._v(" "),r("el-form",{ref:"LoginForm",staticClass:"demo-LoginForm",attrs:{model:e.LoginForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{staticStyle:{width:"380px","margin-top":"20px"},attrs:{label:"账号",prop:"id"}},[r("el-input",{ref:"getFocus",model:{value:e.LoginForm.id,callback:function(t){e.$set(e.LoginForm,"id",t)},expression:"LoginForm.id"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"380px"},attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:e.passw,clearable:""},on:{blur:e.onBlur},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.LoginForm.password,callback:function(t){e.$set(e.LoginForm,"password",t)},expression:"LoginForm.password"}},[r("i",{class:e.icon,attrs:{slot:"suffix"},on:{click:e.showPass},slot:"suffix"})])],1),e._v(" "),r("el-radio-group",{model:{value:e.LoginForm.job,callback:function(t){e.$set(e.LoginForm,"job",t)},expression:"LoginForm.job"}},[r("el-radio",{staticClass:"radio-user",attrs:{label:"用户"}}),e._v(" "),r("el-radio",{attrs:{label:"管理员"}})],1),e._v(" "),r("el-form-item",{staticClass:"buttons"},[r("el-button",{staticClass:"buttonlogin",attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[e._v("登录")]),e._v(" "),r("el-button",{staticClass:"buttonreset",on:{click:function(t){return e.resetForm("LoginForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var l=r("VU/8")(s,i,!1,function(e){r("g+R4")},"data-v-7d9bd7dc",null).exports,c={components:{ComA:l,ComB:r("tJHb").default},name:"App"},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var u=r("VU/8")(c,d,!1,function(e){r("pDXU")},null,null).exports,p=r("/ocq"),m=r("bOdI"),h=r.n(m),v={name:"Register",data:function(){var e;return e={userName:""},h()(e,"userName",""),h()(e,"password2",""),h()(e,"password",""),e},created:function(){},methods:{register:function(){var e=this,t=new FormData;t.append("userName",this.userName),t.append("passwd",this.password);this.password===this.password2?this.$axios.post("user/register",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){alert(t.data.msg),200===t.data.code&&e.$router.push({path:"/"})}).catch(function(e){alert(e.data.msg)}):alert("两次输入的密码不同")}}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("\n  用户名: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{id:"userName",type:"text",placeholder:"请输入用户名"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),e._v(" "),r("br"),r("br"),e._v("\n  密码: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),r("br"),r("br"),e._v("\n  确认密码: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],attrs:{id:"password2",type:"password",placeholder:"请再次输入密码"},domProps:{value:e.password2},on:{input:function(t){t.target.composing||(e.password2=t.target.value)}}}),e._v(" "),r("br"),r("br"),e._v(" "),r("button",{on:{click:function(t){return e.register()}}},[e._v("注册")]),e._v(" "),r("br"),r("br"),e._v(" "),r("router-link",{attrs:{to:"/"}},[r("span",{staticStyle:{"text-align":"center","font-size":"14px",color:"red"}},[e._v("现在登录")])])],1)},staticRenderFns:[]};var b=r("VU/8")(v,f,!1,function(e){r("SHth")},"data-v-71badad6",null).exports,g=r("Xxa5"),w=r.n(g),x=r("exGp"),_=r.n(x),y=r("woOf"),k=r.n(y),C=r("Gu7T"),R=r.n(C),S=r("BO1k"),L=r.n(S),A={job:"人事管理",id:"",name:"",sex:"男",mail:"",phone:"",idCard:"",card:"",address:"",attendance:"",birthday:""},Z={components:{SearchBar:r("69NM").a},computed:{username:function(){return o.a.get("id")}},data:function(){return{currentPage1:5,currentPage2:5,currentPage3:5,currentPage4:4,drawer:!1,direction:"rtl",edit:!1,index:-1,keywords:"",titleName:"编辑",role:{job:"",id:"",name:"",sex:"",mail:"",phone:"",idCard:"",card:"",address:"",attendance:"",birthday:""},list:{radio:"1"},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号",trigger:"blur"},{min:18,max:18,message:"长度为18个数字",trigger:"blur"}],mail:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:function(e,t,r){!1===/^\w{1,64}@[a-z0-9\-]{1,256}(\.[a-z]{2,6}){1,2}$/i.test(t)?r(new Error("邮箱格式错误")):r()},trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:function(e,t,r){!1===/^1[34578]\d{9}$/.test(t)?r(new Error("手机号格式错误")):r()},trigger:"blur"}],staff:[{required:!0,message:"请选择管理权限",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}],job:[{required:!0,message:"请选择职务",trigger:"blur"}],card:[{required:!0,message:"请输入银行卡号",trigger:"blur"}]},routes:[],rolesList:[],dialogVisible:!1,dialogType:"edit",checkStrictly:!1,defaultProps:{children:"children",label:"title"}}},mounted:function(){this.loadStaff()},methods:{handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){console.log("当前页: "+e)},loadStaff:function(){var e=this;this.$axios.get("/staff/all").then(function(t){200===t.data.code&&(e.rolesList=t.data.data)})},searchResult:function(){var e=this;this.$axios.get("/staff/search?keywords="+this.$refs.searchBar.keywords,{}).then(function(t){t&&200===t.data.code&&(e.rolesList=t.data.data)})},generateRoutes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=[],n=!0,a=!1,o=void 0;try{for(var s,i=L()(e);!(n=(s=i.next()).done);n=!0){var l=s.value;if(!l.hidden){var c=this.onlyOneShowingChild(l.children,l);l.children&&c&&!l.alwaysShow&&(l=c);var d={path:path.resolve(t,l.path),title:l.meta&&l.meta.title};l.children&&(d.children=this.generateRoutes(l.children,d.path)),r.push(d)}}}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r},generateArr:function(e){var t=this,r=[];return e.forEach(function(e){if(r.push(e),e.children){var n=t.generateArr(e.children);n.length>0&&(r=[].concat(R()(r),R()(n)))}}),r},handleAddRole:function(){this.role=k()({},A),this.$refs.tree&&this.$refs.tree.setCheckedNodes([]),this.dialogType="new",this.titleName="添加用户",this.dialogVisible=!0},refreshing:function(){location.reload()},resetForm:function(e){this.$refs[e].resetFields()},openDrawer:function(e){this.drawer=!0;var t=this;this.$axios.post("/staff/view?id="+e,{}).then(function(e){e&&200===e.data.code&&(t.role=e.data.data)})},handleEdit:function(e){var t=this;this.$axios.post("/staff/detail?id="+e,{}).then(function(e){e&&200===e.data.code&&(t.role=e.data.data)}),this.titleName="编辑信息",this.dialogVisible=!0,this.dialogType="edit"},handleDelete:function(e){var t=this;this.$confirm("确定删除此条信息吗?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(_()(w.a.mark(function r(){var n;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n=t,t.$axios.post("/staff/delete?id="+e,{}).then(function(e){e&&200===e.data.code&&(n.rolesList=e.data.data,t.$message({type:"success",message:"删除成功!"}))});case 2:case"end":return r.stop()}},r,t)}))).catch(function(e){console.error(e)})},submit:function(e){var t=this;"new"===this.dialogType?this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r=t;t.$axios.post("/staff/add?name="+t.role.name+"&sex="+t.role.sex+"&idCard="+t.role.idCard+"&job="+t.role.job+"&phone="+t.role.phone+"&mail="+t.role.mail+"&card="+t.role.card+"&address="+t.role.address,{}).then(function(e){e&&200===e.data.code&&(console.log(e),r.rolesList=e.data.data,console.log(r.rolesList));for(var n=0;n<r.rolesList.length&&r.rolesList[n].idCard!=t.role.idCard;n++);console.log("i: ",n),console.log("rolesList[i]: ",r.rolesList[n]),t.$alert("此用户工号为："+r.rolesList[n].id+"</br>默认密码为：88888888","信息",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,center:!0,callback:function(e){t.$message({type:"success",message:"添加成功"})}}),t.dialogVisible=!1})}):this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r=t;t.$axios.post("/staff/edit?id="+t.role.id+"&name="+t.role.name+"&sex="+t.role.sex+"&idCard="+t.role.idCard+"&job="+t.role.job+"&phone="+t.role.phone+"&mail="+t.role.mail+"&card="+t.role.card+"&address="+t.role.address,{}).then(function(e){e&&200===e.data.code&&(r.rolesList=e.data.data)}),t.dialogVisible=!1})}}},N={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"text-align":"center"}},[r("br"),r("br"),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleAddRole}},[e._v("添加")]),e._v(" "),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.refreshing}},[e._v("刷新")]),e._v(" "),r("search-bar",{ref:"searchBar",on:{onSearch:e.searchResult}}),e._v(" "),r("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.rolesList}},[r("el-table-column",{attrs:{label:"工号",width:"100%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.id)+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"姓名",width:"150%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.name)+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"性别",width:"80%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.sex)+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"邮箱",width:"200%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.mail)+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"手机号",width:"120%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.phone)+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"考勤（本月）",width:"130%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.attendance)+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"职务",width:"150%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.job)+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){return e.openDrawer(t.row.id)}}},[e._v("详情")]),e._v(" "),r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){return e.handleEdit(t.row.id)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{type:"danger",plain:"",size:"small"},on:{click:function(r){return e.handleDelete(t.row.id)}}},[e._v("删除")]),e._v(" "),r("el-drawer",{attrs:{title:"我是标题",visible:e.drawer,direction:e.direction,size:800},on:{"update:visible":function(t){e.drawer=t}}},[r("el-descriptions",{staticClass:"margin-top",attrs:{title:"无边框列表",column:2,size:e.size}},[r("el-descriptions-item",{attrs:{label:"工号"}},[e._v(e._s(e.role.id))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"姓名"}},[e._v(e._s(e.role.name))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"身份证号"}},[e._v(e._s(e.role.idCard))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"生日"}},[e._v(e._s(e.role.birthday))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"考勤（本月）"}},[e._v(e._s(e.role.attendance))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"职务"}},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(e.role.job))])],1),e._v(" "),r("el-descriptions-item",{attrs:{label:"性别"}},[e._v(e._s(e.role.sex))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"联系方式"}},[e._v(e._s(e.role.phone))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"邮箱"}},[e._v(e._s(e.role.mail))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"银行卡号"}},[e._v(e._s(e.role.card))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"联系地址"}},[e._v(e._s(e.role.address))])],1)],1)]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:e.titleName,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{inline:!0,model:e.role,rules:e.rules,"label-width":"80px","label-position":"right"}},[r("el-span",{staticStyle:{colour:"white"},model:{value:e.role.id,callback:function(t){e.$set(e.role,"id",t)},expression:"role.id"}},[e._v(e._s(e.role.id))]),e._v(" "),r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入姓名"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"身份证号",prop:"idCard"}},[r("el-input",{staticStyle:{width:"270px"},attrs:{maxlength:"18",placeholder:"请输入身份证号"},model:{value:e.role.idCard,callback:function(t){e.$set(e.role,"idCard",t)},expression:"role.idCard"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"职务",prop:"job"}},[[r("el-radio",{staticClass:"job",attrs:{label:"人事管理"},model:{value:e.role.job,callback:function(t){e.$set(e.role,"job",t)},expression:"role.job"}}),e._v(" "),r("el-radio",{staticClass:"job",attrs:{label:"财务管理"},model:{value:e.role.job,callback:function(t){e.$set(e.role,"job",t)},expression:"role.job"}}),e._v(" "),r("el-radio",{staticClass:"job",attrs:{label:"铁路管理"},model:{value:e.role.job,callback:function(t){e.$set(e.role,"job",t)},expression:"role.job"}}),e._v(" "),r("el-radio",{staticClass:"job",attrs:{label:"用户管理"},model:{value:e.role.job,callback:function(t){e.$set(e.role,"job",t)},expression:"role.job"}})]],2),e._v(" "),r("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"性别",prop:"sex"}},[[r("el-radio",{staticClass:"sex",attrs:{label:"男"},model:{value:e.role.sex,callback:function(t){e.$set(e.role,"sex",t)},expression:"role.sex"}},[e._v("男")]),e._v(" "),r("el-radio",{staticClass:"sex",attrs:{label:"女"},model:{value:e.role.sex,callback:function(t){e.$set(e.role,"sex",t)},expression:"role.sex"}},[e._v("女")])]],2),e._v(" "),r("el-form-item",{attrs:{label:"联系方式",prop:"phone"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"11",placeholder:"请输入联系方式"},model:{value:e.role.phone,callback:function(t){e.$set(e.role,"phone",t)},expression:"role.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"mail"}},[r("el-input",{staticStyle:{width:"270px"},attrs:{placeholder:"请输入邮箱"},model:{value:e.role.mail,callback:function(t){e.$set(e.role,"mail",t)},expression:"role.mail"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"银行卡号",prop:"card"}},[r("el-input",{staticStyle:{width:"230px"},attrs:{placeholder:"请输入银行卡号"},model:{value:e.role.card,callback:function(t){e.$set(e.role,"card",t)},expression:"role.card"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入联系地址"},model:{value:e.role.address,callback:function(t){e.$set(e.role,"address",t)},expression:"role.address"}})],1)],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("ruleForm")}}},[e._v("提交")]),e._v(" "),r("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1),e._v(" "),r("br"),r("br"),e._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var F=r("VU/8")(Z,N,!1,function(e){r("MkIe")},"data-v-b10d105c",null).exports,Y={name:"ChangePwd",data:function(){return{oldpassword:"",newpassword:"",newpassword2:""}},created:function(){},computed:{LoginuserName:function(){return o.a.get("userName")}},methods:{ChangePwd:function(){var e=this,t=new FormData;t.append("username",this.LoginuserName),t.append("oldpassword",this.oldpassword),t.append("newpassword",this.newpassword);0!==this.oldpassword.length&&0!==this.newpassword.length&&0!==this.newpassword2.length?this.newpassword===this.newpassword2?this.$axios.post("user/changepwd",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){alert(t.data.msg),200===t.data.code&&e.$router.push({path:"/"})}).catch(function(e){alert(e.data.msg)}):alert("两次输入的新密码不同"):alert("密码不能为空")}}},j={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"top_div"},[e._v("当前登录的用户是："+e._s(e.LoginuserName))]),e._v(" "),r("br"),r("br"),e._v("\n  用户名: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.LoginuserName,expression:"LoginuserName"}],attrs:{id:"Username",type:"text",disabled:"disabled"},domProps:{value:e.LoginuserName},on:{input:function(t){t.target.composing||(e.LoginuserName=t.target.value)}}}),e._v(" "),r("br"),r("br"),e._v(" "),e._v("\n  原密码: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.oldpassword,expression:"oldpassword"}],attrs:{id:"oldpassword",type:"password",placeholder:"请输入原密码"},domProps:{value:e.oldpassword},on:{input:function(t){t.target.composing||(e.oldpassword=t.target.value)}}}),e._v(" "),r("br"),r("br"),e._v("\n  新密码: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newpassword,expression:"newpassword"}],attrs:{id:"newpassword",type:"password",placeholder:"请输入新密码"},domProps:{value:e.newpassword},on:{input:function(t){t.target.composing||(e.newpassword=t.target.value)}}}),e._v(" "),r("br"),r("br"),e._v("\n  确认新密码: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newpassword2,expression:"newpassword2"}],attrs:{id:"newpassword2",type:"password",placeholder:"请再次输入新密码"},domProps:{value:e.newpassword2},on:{input:function(t){t.target.composing||(e.newpassword2=t.target.value)}}}),e._v(" "),r("br"),r("br"),e._v(" "),r("button",{on:{click:function(t){return e.ChangePwd()}}},[e._v("确定修改")])])},staticRenderFns:[]};var U=r("VU/8")(Y,j,!1,function(e){r("RaQZ")},"data-v-5a731c8c",null).exports,V={props:["isCollapse"],data:function(){return{userRole_1:sessionStorage.getItem("userRole"),menu:[{path:"/",name:"Notice",label:"公告",icon:"s-order",url:"Notice/notice"},{path:"/personnel",name:"Personnel",label:"人事管理",icon:"user-solid",url:"Personnel/Personnel"},{path:"/finance",label:"员工工资",name:"finance",icon:"coin",url:"Finance/staff"},{path:"/interview",name:"interview",label:"应聘",icon:"folder-checked",url:"Interview/interview"},{path:"/scan",label:"考勤签到",icon:"date",children:[{path:"/scan",name:"scan",label:"工牌签到",icon:"upload",url:"Data_Scanning/scan"},{path:"/input",name:"input",label:"手动签到",icon:"setting",url:"Data_Scanning/input"}]}],userMenu:[{path:"/",name:"Notice-u",label:"公告",icon:"s-order",url:"Notice/notice-u"},{path:"/normalStaff",name:"normalStaff",label:"工资",icon:"s-order",url:"Finance/normalStaff"}]}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},clickMenu:function(e){this.$router.push({name:e.name})}},computed:{noChildren:function(){return this.menu.filter(function(e){return!e.children})},hasChildren:function(){return this.menu.filter(function(e){return e.children})}}},E={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[r("div",{staticClass:"menu-title"},[r("h3",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapse,expression:"!isCollapse"}]},[e._v("铁路后台管理系统")]),e._v(" "),r("h3",{directives:[{name:"show",rawName:"v-show",value:e.isCollapse,expression:"isCollapse"}]},[e._v("导航")])]),e._v(" "),"admin"===e.userRole_1?r("div",[e._l(e.noChildren,function(t){return r("el-menu-item",{key:t.path,attrs:{index:t.path},on:{click:function(r){return e.clickMenu(t)}}},[r("i",{class:"el-icon-"+t.icon}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])])}),e._v(" "),e._l(e.hasChildren,function(t){return r("el-submenu",{key:t.path,attrs:{index:t.label}},[r("template",{slot:"title"},[r("i",{class:"el-icon-"+t.icon}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])]),e._v(" "),r("el-menu-item-group",e._l(t.children,function(t,n){return r("el-menu-item",{key:n,attrs:{index:t.path},on:{click:function(r){return e.clickMenu(t)}}},[r("i",{class:"el-icon-"+t.icon}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])])}),1)],2)})],2):r("div",[e._l(e.userMenu,function(t){return r("el-menu-item",{key:t.path,attrs:{index:t.path},on:{click:function(r){return e.clickMenu(t)}}},[r("i",{class:"el-icon-"+t.icon}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])])}),e._v(" "),e._l(e.hasChildren,function(t){return r("el-submenu",{key:t.path,attrs:{index:t.label}},[r("template",{slot:"title"},[r("i",{class:"el-icon-"+t.icon}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])]),e._v(" "),r("el-menu-item-group",e._l(t.children,function(t,n){return r("el-menu-item",{key:n,attrs:{index:t.path},on:{click:function(r){return e.clickMenu(t)}}},[r("i",{class:"el-icon-"+t.icon}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])])}),1)],2)})],2)])},staticRenderFns:[]};var P={data:function(){return{userImg:r("roQg"),role:{id:"",name:"",sex:"",mail:"",phone:"",idCard:"",card:"",address:"",attendance:"",birthday:""}}},methods:{emitCollapse:function(){this.$emit("emitCollapse")},personalCenter:function(){this.$router.push({path:"/personalCenter"}),console.log("clickpersonCenter")},logout:function(){var e=this;this.$confirm("此操作将注销登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){window.sessionStorage.clear(),e.$router.push("/"),history.pushState(null,null,document.URL),window.addEventListener("popstate",function(e){history.pushState(null,null,document.URL)},!1)}).catch(function(){e.$message({type:"info",message:"已取消操作"})})}}},B={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("div",{staticClass:"l-content"},[r("el-button",{attrs:{plain:"",icon:"el-icon-menu",size:"mini"},on:{click:e.emitCollapse}}),e._v(" "),r("h3",{staticClass:"l-content-text"})],1),e._v(" "),r("div",{staticClass:"r-content"},[r("el-dropdown",{attrs:{trigger:"click",size:"mini"}},[r("span",{staticClass:"el-dropdown-link"},[r("img",{staticClass:"r-content-user",attrs:{src:e.userImg}})]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{nativeOn:{click:function(t){return e.personalCenter.apply(null,arguments)}}},[e._v("个人中心")]),e._v(" "),r("el-dropdown-item",{nativeOn:{click:function(t){return e.logout.apply(null,arguments)}}},[e._v("退出")])],1)],1)],1)])},staticRenderFns:[]};var T={name:"Main",data:function(){return{collapseStatus:!1}},components:{CommonAside:r("VU/8")(V,E,!1,function(e){r("S/JZ")},"data-v-3295e03a",null).exports,CommonHeader:r("VU/8")(P,B,!1,function(e){r("Z//r")},"data-v-ccc01c52",null).exports},methods:{toggle:function(){this.collapseStatus=!this.collapseStatus}}},M={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-container",{staticClass:"container",staticStyle:{"min-height":"100%"}},[t("el-aside",{attrs:{width:"auto"}},[t("common-aside",{attrs:{isCollapse:this.collapseStatus}})],1),this._v(" "),t("el-container",[t("el-header",[t("common-header",{on:{emitCollapse:this.toggle}})],1),this._v(" "),t("el-main",[t("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var W=r("VU/8")(T,M,!1,function(e){r("T1Z6")},null,null).exports;n.default.use(p.a);var I=p.a.prototype.push;p.a.prototype.push=function(e){return I.call(this,e).catch(function(e){return e})};var D=new p.a({mode:"hash",routes:[{path:"/container",name:"container",component:W,redirect:"/container/notice",children:[{path:"/container/notice",name:"Notice",component:function(){return r.e(5).then(r.bind(null,"b1x0"))}},{path:"/container/personnel",name:"Personnel",component:function(){return r.e(6).then(r.bind(null,"FuCC"))}},{path:"/container/finance",name:"finance",component:function(){return r.e(1).then(r.bind(null,"+LLY"))}},{path:"/container/interview",name:"interview",component:function(){return r.e(4).then(r.bind(null,"QTV6"))}},{path:"/container/scan",name:"scan",component:function(){return r.e(7).then(r.bind(null,"JAmA"))}},{path:"/container/input",name:"input",component:function(){return r.e(3).then(r.bind(null,"bTWw"))}},{path:"/PersonalCenter",name:"PersonalCenter",component:function(){return new Promise(function(e){e()}).then(r.bind(null,"tJHb"))}},{path:"/container/notice-u",name:"Notice-u",component:function(){return r.e(0).then(r.bind(null,"Af1W"))}},{path:"/container/notice-u",name:"Notice-u",component:function(){return r.e(0).then(r.bind(null,"Af1W"))}},{path:"/container/normalStaff",name:"normalStaff",component:function(){return r.e(2).then(r.bind(null,"hZUJ"))}}]},{path:"/",name:"登录",component:l},{path:"/Register",name:"注册",component:b},{path:"/Success",name:"登录成功",component:F},{path:"/ChangePwd",name:"修改密码",component:U}]}),J=r("zL8q"),G=r.n(J);r("tvR6");window.eventBus=new n.default,n.default.use(G.a),n.default.config.productionTip=!1;var K=r("mtWM");K.defaults.baseURL="http://localhost:8002",n.default.prototype.HOST="/staff",n.default.prototype.$axios=K,new n.default({el:"#app",router:D,components:{App:u,Login:l},template:"<App/>"})},RaQZ:function(e,t){},"S/JZ":function(e,t){},SHth:function(e,t){},T1Z6:function(e,t){},"UY+N":function(e,t){},"Z//r":function(e,t){},"g+R4":function(e,t){},oZNP:function(e,t){},pDXU:function(e,t){},roQg:function(e,t){e.exports="data:image/png;base64,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"},tJHb:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r("14gb");var n={data:function(){var e=this;return{userImg:r("roQg"),dialogFormVisible:!1,dialogVisible:!1,role:{job:"",id:"",name:"",sex:"",mail:"",phone:"",idCard:"",card:"",address:"",attendance:"",birthday:""},form:{password:"",newPassword:"",checkPassword:""},rulesForm:{mail:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:function(e,t,r){!1===/^\w{1,64}@[a-z0-9\-]{1,256}(\.[a-z]{2,6}){1,2}$/i.test(t)?r(new Error("邮箱格式错误")):r()},trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:function(e,t,r){!1===/^1[34578]\d{9}$/.test(t)?r(new Error("手机号格式错误")):r()},trigger:"blur"}],card:[{required:!0,message:"请输入银行卡号",trigger:"blur"}]},rules:{password:[{required:!0,message:"请输入旧密码",trigger:"blur"},{validator:function(e,t,r){""===t?r(new Error("请再次输入密码")):r()}}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{validator:function(t,r,n){""===r?n(new Error("请输入密码")):r===e.form.password?n(new Error("新密码不能与原密码相同!")):n()},trigger:"blur"}],checkPassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:function(t,r,n){""===r?n(new Error("请输入密码")):r!==e.form.newPassword?n(new Error("与新密码不一致!")):n()},trigger:"blur"}]},formLabelWidth:"80px"}},mounted:function(){this.initUser(),this.initPwd()},created:function(){var e=sessionStorage.getItem("userId2");this.role.id=e},methods:{initUser:function(){var e=this;console.log(e.myData2),this.$axios.post("/staff/view?id="+e.role.id,{}).then(function(t){t&&200===t.data.code&&(e.role=t.data.data)})},initPwd:function(){this.form.password="",this.form.newPassword="",this.form.checkPassword=""},submit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("修改失败！"),!1;var r=t;t.$axios.post("/staff/editIndividual?id="+t.role.id+"&name="+t.role.name+"&sex="+t.role.sex+"&idCard="+t.role.idCard+"&job="+t.role.job+"&phone="+t.role.phone+"&mail="+t.role.mail+"&card="+t.role.card+"&address="+t.role.address,{}).then(function(e){e&&200===e.data.code&&(r.role=e.data.data)}),t.dialogVisible=!1})},changePwd:function(){var e=this;console.log("changepwd"),this.dialogFormVisible=!1;var t=this;this.$axios.post("/staff/changePassword?id="+t.role.id+"&oldPassword="+this.form.password+"&newPassword="+this.form.newPassword,{}).then(function(r){if(!r||200!==r.data.code)return alert("密码修改失败,请重试！"),e.dialogFormVisible=!0,initPwd(),!1;t.$message("密码修改成功！3秒后重新登录"),e.$router.push({path:"/"}),history.pushState(null,null,document.URL),window.addEventListener("popstate",function(e){history.pushState(null,null,document.URL)},!1)})},resetForm:function(e){this.$refs[e].resetFields()}}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"personal"},[r("div",{staticClass:"left-content"},[r("img",{staticClass:"photo-user",attrs:{src:e.userImg}}),e._v(" "),r("div",{staticClass:"left-content-buttons"},[r("el-button",{staticClass:"change-pwd",attrs:{type:"text"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("修改密码")]),e._v(" "),r("el-button",{on:{click:function(t){e.dialogVisible=!0}}},[e._v("编辑信息")])],1)]),e._v(" "),r("div",[r("el-descriptions",{staticClass:"des-right",attrs:{labelStyle:{"font-size":"18px","font-weight":"bold"},contentStyle:{"font-size":"18px"},column:2}},[r("el-descriptions-item",{attrs:{label:"姓名"}},[e._v(e._s(e.role.name))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"工号"}},[e._v(e._s(e.role.id))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"职务"}},[e._v(e._s(e.role.job))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"考勤（本月）"}},[e._v(e._s(e.role.attendance))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"性别"}},[e._v(e._s(e.role.sex))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"身份证号"}},[e._v(e._s(e.role.idCard))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"生日"}},[e._v(e._s(e.role.birthday))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"手机号"}},[e._v(" "+e._s(e.role.phone))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"银行卡号"}},[e._v(e._s(e.role.card))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"邮箱"}},[e._v(e._s(e.role.mail))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"地址"}},[e._v(e._s(e.role.address))])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改密码",visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"旧密码",prop:"password","label-width":e.formLabelWidth}},[r("el-input",{attrs:{clearable:"","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"新密码",prop:"newPassword","label-width":e.formLabelWidth}},[r("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPassword","label-width":e.formLabelWidth}},[r("el-input",{attrs:{"show-password":"",clearable:""},model:{value:e.form.checkPassword,callback:function(t){e.$set(e.form,"checkPassword",t)},expression:"form.checkPassword"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changePwd(),!1}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"编辑信息",visible:e.dialogVisible,width:"700px","destroy-on-close":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-descriptions",{staticClass:"des-dialog",attrs:{column:2}},[r("el-descriptions-item",{attrs:{label:"姓名"}},[e._v(e._s(e.role.name))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"工号"}},[e._v(e._s(e.role.id))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"身份证号"}},[e._v(e._s(e.role.idCard))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"生日"}},[e._v(e._s(e.role.birthday))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"职务"}},[e._v(e._s(e.role.job))]),e._v(" "),r("el-descriptions-item",{attrs:{label:"性别"}},[e._v(e._s(e.role.sex))])],1),e._v(" "),r("el-form",{ref:"ruleForm",attrs:{inline:!0,model:e.role,rules:e.rulesForm,"label-width":"80px","label-position":"right"}},[r("el-form-item",{attrs:{label:"联系方式",prop:"phone"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"11",placeholder:"请输入联系方式"},model:{value:e.role.phone,callback:function(t){e.$set(e.role,"phone",t)},expression:"role.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"mail"}},[r("el-input",{staticStyle:{width:"270px"},attrs:{placeholder:"请输入邮箱"},model:{value:e.role.mail,callback:function(t){e.$set(e.role,"mail",t)},expression:"role.mail"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"银行卡号",prop:"card"}},[r("el-input",{staticStyle:{width:"230px"},attrs:{placeholder:"请输入银行卡号"},model:{value:e.role.card,callback:function(t){e.$set(e.role,"card",t)},expression:"role.card"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[r("el-input",{staticStyle:{width:"240px"},attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入联系地址"},model:{value:e.role.address,callback:function(t){e.$set(e.role,"address",t)},expression:"role.address"}})],1)],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("ruleForm")}}},[e._v("提交")]),e._v(" "),r("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var o=r("VU/8")(n,a,!1,function(e){r("UY+N")},"data-v-4a309b48",null);t.default=o.exports},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.67697c8b56dd3cde2aa7.js.map